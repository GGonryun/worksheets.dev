main:
  assign:
    - x: 2
    - y: 3
    - z: 4
  steps:
    - worksheet: send_mathjs_request
      input: \${num}
      output: result
  output: \${result}

send_mathjs_request:
  input: val
  steps:
    - assign:
        - raw: '${x}+${y}*sqrt(${z})'
        - expr: ${uri.encode(raw)}
    - call: http.request
      input:
        url: http://api.mathjs.org/v4/?expr=${expr}
        method: GET
      output: resp
    - return: ${resp.body}
